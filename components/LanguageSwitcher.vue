<template>
  <select v-model="selectedLocale" class="text-md-h3 text-h4">
    <option
      v-for="locale in availableLocales"
      :key="locale.code"
      :value="locale.code"
    >
      {{ locale.flag }}
    </option>
  </select>
</template>

<script>
export default {
  data() {
    return {
      selectedLocale: this.$i18n.locale,
      availableLocales: [
        {
          code: "en",
          name: "English",
          flag: "ðŸ‡¬ðŸ‡§",
          iso: "en-GB",
        },
        {
          code: "de",
          name: "Deutsch",
          flag: "ðŸ‡©ðŸ‡ª",
          iso: "de-DE",
        },
        {
          code: "es",
          name: "EspaÃ±ol",
          flag: "ðŸ‡ªðŸ‡¸",
          iso: "es-ES",
        },
        {
          code: "pt",
          name: "PortuguÃªs",
          flag: "ðŸ‡§ðŸ‡·",
          iso: "pt-PT",
        },
        {
          code: "fr",
          name: "FranÃ§ais",
          flag: "ðŸ‡«ðŸ‡·",
          iso: "fr-FR",
        },
        {
          code: "it",
          name: "Italiano",
          flag: "ðŸ‡®ðŸ‡¹",
          iso: "it-IT",
        },
      ],
    };
  },
  watch: {
    selectedLocale(newLocale) {
      this.$router.push(this.switchLocalePath(newLocale));
    },
  },
};
</script>
