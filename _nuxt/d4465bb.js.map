{"version":3,"sources":["webpack:///./functions/gtagValues.js","webpack:///./components/FileHandler.vue?57ab","webpack:///./components/FileHandler.vue?ab69","webpack:///./components/FileHandler.vue?1a4d","webpack:///./components/FileHandler.vue","webpack:///./components/FileHandler.vue?f32c","webpack:///./components/FileHandler.vue?c7ea"],"names":["CATEGORY_HOME","GTAG_FILE","GTAG_RESULTS","GTAG_PDF","GTAG_PAYMENT","GTAG_INSTALL","GTAG_LEAD","GTAG_INTERACTION","GTAG_NUM_PERSONS","gtagEvent","action","label","value","arguments","length","undefined","window","$nuxt","$gtag","event","event_category","event_label","String","content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","name","data","isDragging","wrongFile","processing","isSuccess","attachments","methods","extendDataStructure","chatObject","authors","messages","forEach","object","index","author","absolute_id","personal_id","zipLoadEndHandler","e","_this","arrayBuffer","target","result","JSZip","loadAsync","then","zipData","chatFile","getChatFile","parseString","parseAttachments","Object","values","files","map","file","compressedContent","_data","this","updateMessages","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","async","sort","a","b","sent","stop","readFileAsArrayBuffer","Promise","resolve","reject","reader","FileReader","onload","Uint8Array","onerror","readAsArrayBuffer","readSharedFiles","_this2","chatRegex","RegExp","find","test","findChatFile","Array","from","addEventListener","loadedFile","_ref","_callee3","_context3","_ref2","_callee2","arr","_context2","decompressedData","_x2","apply","_x","readAsText","showErrorMessage","txtLoadEndHandler","_this3","$emit","text","processFileList","fileList","shared","type","dragOver","dragLeave","drop","dataTransfer","requestUploadFile","$el","querySelector","component","_self","staticClass","$event","dragleave","_c","staticStyle","attrs","class","smallFont","_vm","expression","_s","$t","_e","domProps"],"mappings":"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","file":"d4465bb.js","sourcesContent":["export const CATEGORY_HOME = \"home\";\n\nexport const GTAG_FILE = \"file\";\nexport const GTAG_RESULTS = \"results\";\nexport const GTAG_PDF = \"pdf\";\nexport const GTAG_PAYMENT = \"payment\";\nexport const GTAG_INSTALL = \"install\";\nexport const GTAG_LEAD = \"lead\";\nexport const GTAG_INTERACTION = \"interaction\";\nexport const GTAG_NUM_PERSONS = \"num_persons\";\n\nexport function gtagEvent(action, label, value = \"1\") {\n  window.$nuxt.$gtag.event(label + \"_\" + action, {\n    event_category: CATEGORY_HOME,\n    event_label: label,\n    value: String(value),\n  });\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/.pnpm/css-loader@5.2.7_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.33_webpack@4.47.0/node_modules/postcss-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/.pnpm/sass-loader@10.5.2_sass@1.32.13_webpack@4.47.0/node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/.pnpm/@nuxt+components@2.2.1_consola@3.2.3/node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/index.js??vue-loader-options!./FileHandler.vue?vue&type=style&index=0&id=4a813df4&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"11201ffa\", content, true, {\"sourceMap\":false});","export * from \"-!../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../node_modules/.pnpm/css-loader@5.2.7_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.33_webpack@4.47.0/node_modules/postcss-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/.pnpm/sass-loader@10.5.2_sass@1.32.13_webpack@4.47.0/node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/.pnpm/@nuxt+components@2.2.1_consola@3.2.3/node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/index.js??vue-loader-options!./FileHandler.vue?vue&type=style&index=0&id=4a813df4&prod&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/.pnpm/css-loader@5.2.7_webpack@4.47.0/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".top-color[data-v-4a813df4]{background-color:#21a68d}.only-visible-to-html2canvas[data-v-4a813df4]{display:none}.cta[data-v-4a813df4]{background:#f2f2f2;width:100%}.btn-color[data-v-4a813df4]{background-color:#21a68d!important}.btn-color-dark[data-v-4a813df4]{background-color:#00535f!important}.link[data-v-4a813df4]{border:none;color:#069;cursor:pointer;font-family:arial,sans-serif;-webkit-text-decoration:underline;text-decoration:underline}.w-100[data-v-4a813df4]{width:100%}.smallFont p[data-v-4a813df4]{font-size:1.1em!important}.file-handler[data-v-4a813df4]{background:#21a68d;text-align:center}.drop-container[data-v-4a813df4]{background-color:#60d8bd;border-radius:10px;padding:10px}.drop[data-v-4a813df4]{align-items:center;border:2px dashed rgba(0,0,0,.3);border-radius:10px;color:#000;display:flex;justify-items:center}@keyframes attention-4a813df4{0%{box-shadow:2px 2px 20px #000}50%{box-shadow:none}to{box-shadow:2px 2px 20px #000}}textarea[data-v-4a813df4]{height:100%;-o-object-fit:contain;object-fit:contain;resize:none;width:100%}input[type=file][data-v-4a813df4]{display:none}.isDragging[data-v-4a813df4]{background:#022e40;border-style:solid;box-shadow:0 0 40px #000!important;color:#21a68d!important;text-shadow:#7fff00}.isSuccess[data-v-4a813df4]{animation-duration:2s;animation-iteration-count:1;animation-name:done-4a813df4}@keyframes done-4a813df4{0%{background:#21a68d}50%{background:#adff2f}to{background:#21a68d}}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport { parseString } from \"whatsapp-chat-parser\";\nimport JSZip from \"jszip\";\nimport { GTAG_FILE, gtagEvent } from \"~/functions/gtagValues\";\n\nexport default {\n  name: \"FileHandler\",\n  data() {\n    return {\n      isDragging: false,\n      wrongFile: false,\n      processing: false,\n      isSuccess: false,\n      attachments: {},\n    };\n  },\n  methods: {\n    extendDataStructure(chatObject) {\n      let authors = {};\n      chatObject.messages.forEach(function (object, index) {\n        if (!(object.author in authors)) authors[object.author] = 0;\n        else authors[object.author] += 1;\n        object.absolute_id = index;\n        object.personal_id = authors[object.author];\n      });\n    },\n\n    zipLoadEndHandler(e) {\n      const arrayBuffer = e.target.result;\n      const jszip = new JSZip();\n      const zip = jszip.loadAsync(arrayBuffer);\n\n      zip\n        .then((zipData) => {\n          let chatFile = this.getChatFile(zipData);\n          return parseString(chatFile, {\n            parseAttachments: true,\n          }).then((messages) => {\n            return {\n              messages: messages,\n              // we just pass a list of filenames with compressed contents here\n              attachments: Object.values(zipData.files).map((file) => {\n                return {\n                  name: file.name,\n                  compressedContent: file._data.compressedContent,\n                };\n              }),\n            };\n          });\n        })\n        .then(this.updateMessages);\n    },\n\n    async getChatFile(zipData) {\n      // this is the standard file on ios, if found return\n      const chatFile = zipData.file(\"_chat.txt\");\n      if (chatFile) return chatFile.async(\"string\");\n\n      // otherwise search for potential other txt files\n      // take shortes one\n      return await zipData\n        .file(/.*(?:chat|whatsapp).*\\.txt$/i)\n        .sort((a, b) => a.name.length - b.name.length)[0]\n        .async(\"string\");\n    },\n\n    readFileAsArrayBuffer(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(new Uint8Array(reader.result));\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(file);\n      });\n    },\n\n    readSharedFiles(files) {\n      function findChatFile(files) {\n        let chatRegex = new RegExp(/.*(?:chat|whatsapp).*\\.txt$/i);\n        return files.find((file) => {\n          return chatRegex.test(file.name);\n        });\n      }\n\n      files = Array.from(files);\n      let chatFile = findChatFile(files);\n      if (chatFile === undefined) {\n        this.showErrorMessage();\n        return;\n      }\n      const reader = new FileReader();\n      reader.addEventListener(\"loadend\", (loadedFile) => {\n        parseString(loadedFile.target.result, {\n          parseAttachments: true,\n        }).then(async (messages) => {\n          // the only difference to the zip file is, that these blobs are already inflated\n          let attachments = [];\n          // we would like to have all files as uint8arrays, as such we have to read the file in as array\n          await files.forEach(async (file) => {\n            const arr = await this.readFileAsArrayBuffer(file);\n            attachments.push({ name: file.name, decompressedData: arr });\n          });\n\n          this.updateMessages({\n            messages: messages,\n            attachments,\n          });\n        });\n      });\n      reader.readAsText(chatFile);\n    },\n\n    txtLoadEndHandler(e) {\n      parseString(e.target.result).then((messages) =>\n        this.updateMessages({ messages: messages })\n      );\n    },\n\n    updateMessages(chatObject) {\n      this.extendDataStructure(chatObject);\n      this.$emit(\"new_messages\", chatObject);\n      this.$emit(\"hide_explanation\", true);\n      this.processing = false;\n      this.isSuccess = true;\n      gtagEvent(\"parsed\", GTAG_FILE);\n    },\n\n    showErrorMessage(text = undefined) {\n      this.wrongFile = true;\n      this.processing = false;\n      this.isSuccess = false;\n      gtagEvent(\"error\" + (text || \"\"), GTAG_FILE, 0);\n    },\n    processFileList(fileList, shared = false) {\n      this.isDragging = false;\n      this.processing = true;\n      this.isSuccess = false;\n      this.wrongFile = false;\n\n      if (shared || fileList.length > 1) {\n        //do multiple here\n        this.readSharedFiles(fileList);\n      } else {\n        let file = fileList[0];\n        if (!file) return this.showErrorMessage(\"_undefined_shared_file\");\n        // do singles here\n        const reader = new FileReader();\n        if (/^application\\/(?:x-)?zip(?:-compressed)?$/.test(file.type)) {\n          reader.addEventListener(\"loadend\", this.zipLoadEndHandler);\n          reader.readAsArrayBuffer(file);\n        } else if (file.type === \"text/plain\") {\n          reader.addEventListener(\"loadend\", this.txtLoadEndHandler);\n          reader.readAsText(file);\n        } else {\n          this.showErrorMessage();\n        }\n      }\n    },\n\n    dragOver() {\n      this.isDragging = true;\n    },\n\n    dragLeave() {\n      this.isDragging = false;\n    },\n\n    drop(e) {\n      let fileList = e.dataTransfer.files;\n      this.processFileList(fileList);\n    },\n\n    requestUploadFile() {\n      let src = this.$el.querySelector(\"#uploadmytextfile\");\n      let fileList = src.files;\n      this.processFileList(fileList);\n    },\n  },\n};\n","import mod from \"-!../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.23.7_webpack@4.47.0/node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/.pnpm/@nuxt+components@2.2.1_consola@3.2.3/node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/index.js??vue-loader-options!./FileHandler.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.23.7_webpack@4.47.0/node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/.pnpm/@nuxt+components@2.2.1_consola@3.2.3/node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/index.js??vue-loader-options!./FileHandler.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FileHandler.vue?vue&type=template&id=4a813df4&scoped=true\"\nimport script from \"./FileHandler.vue?vue&type=script&lang=js\"\nexport * from \"./FileHandler.vue?vue&type=script&lang=js\"\nimport style0 from \"./FileHandler.vue?vue&type=style&index=0&id=4a813df4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/vue-loader@15.11.1_babel-core@7.0.0-bridge.0_cache-loader@4.1.0_css-loader@5.2.7_lodash@4.17._plymz6q3yttqenf645wwiztxby/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a813df4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}