(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{825:function(t,e,r){"use strict";r.r(e);var n=r(10),c=r(28);r(84),r(94),r(31),r(30),r(38),r(17),r(42),r(37),r(43);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={props:["email","id"],data:function(){return{subscription_id:null,isValid:null,subscriptionData:null,APIinterval:null,maxCounter:0,isEmailValid:null}},watch:{id:function(){this.checkSubscription()},email:function(){this.checkSubscription()}},methods:{checkSubscription:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email||t.id){e.next=2;break}return e.abrupt("return");case 2:return data={},data=t.id?{subscriptionId:t.id}:{email:t.email},e.next=6,t.loadSubscription(data);case 6:t.APIinterval=setInterval((function(){if(t.isValid||t.maxCounter>20)return clearInterval(t.APIinterval),void(t.isValid||t.$emit("isInvalid"));t.loadSubscription(data),t.maxCounter++}),3e3);case 7:case"end":return e.stop()}}),e)})))()},loadSubscription:function(data){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading",data),e.next=3,t.$fire.functions.httpsCallable("checksubscriberstatus")(l(l({},data),{},{client_id:t.$config.paypalClientId}));case 3:return r=e.sent,e.next=6,r.data;case 6:t.subscriptionData=e.sent,t.isValid=t.subscriptionData.isValid,t.isValid&&(localStorage.setItem("subscription",JSON.stringify(data)),t.$emit("isValid"),clearInterval(t.APIinterval));case 9:case"end":return e.stop()}}),e)})))()}}},f=r(99),component=Object(f.a)(d,(function(){return(0,this._self._c)("div")}),[],!1,null,"5014d43a",null);e.default=component.exports}}]);